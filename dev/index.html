<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SwarmMC.jl · SwarmMC</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SwarmMC</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>SwarmMC.jl</a><ul class="internal"><li><a class="tocitem" href="#Setup-of-simulation"><span>Setup of simulation</span></a></li><li><a class="tocitem" href="#Running-of-simulation"><span>Running of simulation</span></a></li><li><a class="tocitem" href="#Loading/Combining-results"><span>Loading/Combining results</span></a></li><li><a class="tocitem" href="#Analysing-results"><span>Analysing results</span></a></li><li><a class="tocitem" href="#Advanced"><span>Advanced</span></a></li><li class="toplevel"><a class="tocitem" href="#TODO"><span>TODO</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>SwarmMC.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SwarmMC.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/pengwyn/SwarmMC/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SwarmMC.jl"><a class="docs-heading-anchor" href="#SwarmMC.jl">SwarmMC.jl</a><a id="SwarmMC.jl-1"></a><a class="docs-heading-anchor-permalink" href="#SwarmMC.jl" title="Permalink"></a></h1><p>Documentation for SwarmMC.jl</p><p>Simple API list in order of use.</p><h2 id="Setup-of-simulation"><a class="docs-heading-anchor" href="#Setup-of-simulation">Setup of simulation</a><a id="Setup-of-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Setup-of-simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.PARAMS" href="#SwarmMC.PARAMS"><code>SwarmMC.PARAMS</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>PARAMS(; kwds...)</code></p><p>The main parameters object. The parameters can be set as keywords or by mutating the structure afterwards. When finished setting the parameters, call <code>Finalise(...)</code> on the object which will set the structure type parameters and fill in the necessary interal-use-only fields.</p><p>Keywords that must be set (no defaults):</p><ul><li><code>init_style</code> - how particles are generated</li><li><code>t_grid</code> - the time grid used for the simulation and for measurements</li><li><code>z_grid</code>, <code>r_grid</code> - the grids used for measurements</li><li><code>gas_list</code> - a list of <code>GAS</code> objects</li><li><code>ptype_list</code> - a list of <code>PARTTYPE</code> objects</li><li><code>gen_cf</code> - a function that returns the list of collision frequencies for each gas and particle type combination. Function signature <code>(params, gas, ptype) -&gt; ...</code></li></ul><p>Keywords that have defaults:</p><ul><li><p><code>eps_grid</code> - the energy grid used for measurements</p></li><li><p><code>meas_bins</code> - the bins for measurements</p></li><li><p><code>meas_quants</code> - the quantities measured</p></li><li><p><code>steady_state_timefrac</code> - defines the time at which steady-state measurements are taken from.</p></li><li><p><code>E_field</code> - the electric field. Can be <code>nothing</code>, an XYZ vector, or a function   of signature <code>(pos,time) -&gt; ...</code>.</p></li><li><p><code>B_field</code> - the magnetic field. Can be <code>nothing</code>, an XYZ vector, or a function   of signature <code>(pos,time) -&gt; ...</code>.</p></li><li><p><code>min_log2_weight</code> - the point at which if a particle&#39;s weight is less than <code>2^min_log2_weight</code></p></li><li><p><code>weight_reduction</code> - the percentage of the weight that is lost in a loss collision.</p></li><li><p><code>ionisation_as_weight</code> - whether to either create a secondary particle in ionisation, or to double the weight. </p></li><li><p><code>generate_next_step_style</code> - one of <a href="#SwarmMC.GNS_ENUM"><code>GNS_ENUM</code></a> types for refreshing the   particle list for each timestep.</p></li><li><p><code>only_regen_for_too_many</code> - when true, don&#39;t ever generate extra particles   when using <code>GNS_REGEN_ALL</code>.</p></li><li><p><code>max_substepsize</code> - the maximum timestep. Use this when the time grid is too   coarse to handle changing numbers of particles.</p></li><li><p><code>runaway_threshold</code> - the multiplicative factor to judge when a runaway of particles is occuring, which will stop the simulation.</p></li><li><p><code>static_structure_factor</code> - the static structure factor used for elastic collisions</p></li><li><p><code>save_name</code> - the name for saving, see <a href="#SwarmMC.MakeSaveName"><code>MakeSaveName</code></a></p></li><li><p><code>do_event_meas</code> - if true, store information in <code>event_counts</code></p></li><li><p><code>show_events</code> - log whenever an event occurs.</p></li><li><p><code>handle_temperature_bias</code> - set this to false to force sampling gas velocities directly (and incorrectly) from a Maxwellian distribtion.</p></li><li><p><code>user_callbacks</code> - a list of additional callbacks to provide to the ODE solver. These callbacks will directly interface with <code>DifferentialEquations.jl</code>. For reference, the <code>p</code> in the integrator object will be of type <a href="#SwarmMC.INTEGRATOR"><code>INTEGRATOR</code></a>. </p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.Finalise" href="#SwarmMC.Finalise"><code>SwarmMC.Finalise</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>Finalise(params)</code></p><p>Turn a <code>PARAMS</code> object into the most narrow set of types and also fill in all internal-use parts of the object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.PARTTYPE" href="#SwarmMC.PARTTYPE"><code>SwarmMC.PARTTYPE</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>PARTTYPE(;name=:particle, mass=1mₑ, charge=1q)</code></p><p>The definition of the type of particle, giving a mass and charge.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.GAS" href="#SwarmMC.GAS"><code>SwarmMC.GAS</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>GAS(; name::Symbol=:gas, m0, ρ, tmtr)</code></p><p>The definition of a gas. The temperature <code>tmtr</code> defaults to zero, which itself must be specified as <code>nothing</code>.</p><p>Both <code>ρ</code> and <code>tmtr</code> can accept a number or a function which itself takes one argument: <code>pos</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.CreateCollFreq" href="#SwarmMC.CreateCollFreq"><code>SwarmMC.CreateCollFreq</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>CreateCollFreq(params, gas, ptype,                name,                colltype::CF_STYLE_ENUM,                 gencf::GENCF_PARAMS                ;                threshold=0.0uE,                ion_sharing_style=ISS_AFE(),                ion_sharing_ratio=0.5,                is_cross_section=true)</code></p><p>Generate a <code>COLLFREQ</code> object, should be used for creating the list to be given to <code>gen_cf</code> of the params object.</p><p>The collision type should be chosen from one of those in <a href="#SwarmMC.CF_STYLE_ENUM"><code>CF_STYLE_ENUM</code></a>. The details of the form of the collision frequency should be provided with <code>gencf</code>. Options are:</p><ul><li>GENCF_MANUAL - an arbitrary functional form of the cross section</li><li>GENCF_INTERP - interpolate a given list of energy and cross section</li><li>GENCF<em>INTERPLOG - as with GENCF</em>INTERP but interpolate on the log values</li></ul><p>Some convenience structs:</p><ul><li>GENCF_HARDSPHERE</li><li>GENCF_MAXWELL</li><li>GENCF_ATTACH - for the Ness-Robson attachment benchmark</li></ul><p>By default, these are interpreted as a cross section. If a collision frequency is directly required, then set <code>is_cross_section</code> to false.</p><p>For inelastic cross sections, <code>threshold</code> is important. For ionisation cross sections, <code>ion_sharing_style</code> and <code>ion_sharing_ratio</code> is important.</p><p>DCS values can be provided using <code>angle_dist_cum</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.CF_STYLE_ENUM" href="#SwarmMC.CF_STYLE_ENUM"><code>SwarmMC.CF_STYLE_ENUM</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>CF_STYLE_ENUM</code></p><p>The type of collision frequency process.</p><p>These types are hopefully obvious:</p><ul><li>CFS_ELASTIC</li><li>CFS_INELASTIC</li><li>CFS_LOSS</li><li>CFS_IONISATION</li></ul><p>The types that might need some more explanation are:</p><ul><li>CFS_NULL - for introducing manually configured null collisions.</li><li>CFS<em>INELASTIC</em>MANUAL_DEGEN - an inelastic cross section with manually set ground/excitation populations, as opposed to using the gas temperature.</li><li>CFS_CHANGETYPE - changes the type of particle.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L318-L334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ISS_ENUM" href="#SwarmMC.ISS_ENUM"><code>SwarmMC.ISS_ENUM</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>ISS_ENUM</code></p><p>Options for ionisation energy sharing</p><ul><li>ISS_FRACTION - specify an exact constant fraction</li><li>ISS_AFE - all fractions equiprobable</li><li>ISS_FUNC - the fraction is chosen at the time of collision.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L341-L349">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.GNS_ENUM" href="#SwarmMC.GNS_ENUM"><code>SwarmMC.GNS_ENUM</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>GNS_ENUM</code></p><p>The style for generating or removing particles for the next time bin.</p><ul><li>GNS_NOTHING - don&#39;t ever generate or remove new particles</li><li>GNS<em>UPDATE</em>LOG2FAC - as with GNS_NOTHING but update the log2fac of the particles.</li><li>GNS_DOUBLE - when there are too few particles, double those that are left.</li><li>GNS<em>REGEN</em>ALL - when the effective number of particles gets too high or low,                 regenerate by sampling the same weights of particles.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L422-L432">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.MEAS_BIN" href="#SwarmMC.MEAS_BIN"><code>SwarmMC.MEAS_BIN</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>MEAS_BIN([:cum][,:ss][,:t][,:r][,:z][,:eps][,:costh])</code></p><p>Define the times, positions or energies in which measurements are to be divided into. It also selects whether measurements should be cumulative or instantaneous.</p><p>The constructor takes symbols, e.g. <code>MEAS_BIN(:cum,:t)</code> represents cumulative measurements in time bins and <code>MEAS_BIN(:ss,:eps,:r)</code> are instantaneous measurements in energy and radial bins, only for the steady-state times, defined by <code>steady_state_frac</code> in <code>PARAMS</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.MEAS_QUANT" href="#SwarmMC.MEAS_QUANT"><code>SwarmMC.MEAS_QUANT</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>MEAS_QUANT(label::Symbol, unit, kind::Type=Float64)</code></p><p>References the quantity that is measured and will be placed into <code>MEAS_BIN</code>. A quantity defined this way should then extend <code>InstMeas</code> using <code>label</code> to implement the measure itself.</p><p>The storage of this quantity is defined by <code>unit</code> and <code>kind</code>. <code>kind</code> can be <code>Float64</code> or <code>XYZ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L140-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.MakeSaveName" href="#SwarmMC.MakeSaveName"><code>SwarmMC.MakeSaveName</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>MakeSaveName(prefix ; separate_dir=true, kwds...)</code></p><p>Make up a filename prefix to save as, which is: <code>&quot;prefix:kwd1=val1:kwd2=val2:...&quot;</code></p><p>If <code>separate_dir</code> is true then prefix all of the filenames with <code>&quot;runs_prefix/&quot;</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L7">source</a></section></article><h2 id="Running-of-simulation"><a class="docs-heading-anchor" href="#Running-of-simulation">Running of simulation</a><a id="Running-of-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Running-of-simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.Save" href="#SwarmMC.Save"><code>SwarmMC.Save</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>Save(params, props ; mmap=false)</code></p><p>Find a new filename and save the <code>params</code> and <code>props</code> into it using <code>JLD2</code>.</p><p>Choose whether to save with <code>IOStream</code> or <code>mmap</code> from the keyword.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.LoopMaxTime" href="#SwarmMC.LoopMaxTime"><code>SwarmMC.LoopMaxTime</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>LoopMaxTime(params, N ; walltime=:auto)</code></p><p>Runs simulations repeatedly until <code>walltime</code> (a <code>Unitful</code> quantity) is reached.</p><p>If <code>walltime</code> is <code>:auto</code> then try to lookup the environment variable <code>SWARMMC_WALLTIME</code> and interpret it as a time in minutes.</p><p><code>N</code> and <code>params</code> are passed through to <code>BunchedPropagate</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.BunchedPropagate" href="#SwarmMC.BunchedPropagate"><code>SwarmMC.BunchedPropagate</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>BunchedPropagate(params, N ; return_part_list=false)</code></p><p>Run a simulation of <code>N</code> particles using <code>params</code>. Returns a <code>PROPS_OUT</code> object.</p><p>If you pass true to <code>return_part_list</code> then the initial and final particle lists will also be returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.PROPS_OUT" href="#SwarmMC.PROPS_OUT"><code>SwarmMC.PROPS_OUT</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>PROPS_OUT</code></p><p>Structure to store measurements taken during a simulation. This struct supports convenient querying of different quantities for different bins.</p><p>The user should not need to manually create or populate this, but will need to query it to obtain results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L8">source</a></section></article><h2 id="Loading/Combining-results"><a class="docs-heading-anchor" href="#Loading/Combining-results">Loading/Combining results</a><a id="Loading/Combining-results-1"></a><a class="docs-heading-anchor-permalink" href="#Loading/Combining-results" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ReadAll" href="#SwarmMC.ReadAll"><code>SwarmMC.ReadAll</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ReadAll(prefix)</code></p><p>Load and combine all <code>params</code> and <code>props</code> from files belonging to a particular <code>prefix</code>, i.e. the part of the filenames before the <code>&quot;__*.jld2&quot;</code> part.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCSave.jl#L213-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.GetAll" href="#SwarmMC.GetAll"><code>SwarmMC.GetAll</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>GetAll(names... ; kwds...)</code></p><p>Read all sets of results in the current directory, extracting quantities given by <code>names</code>. Each name can be either:</p><ul><li>a symbol, in which case a key from <a href="#SwarmMC.Quants"><code>Quants</code></a> is used.</li><li>a string, in which case a parameter from the filename prefix is used. See <a href="#SwarmMC.NameElements"><code>NameElements</code></a></li><li>a function, <code>f(params,props,prefix,quants)</code> which produces a value.</li></ul><p>A <code>name</code> may also be a Pair, <code>name =&gt; value</code>, where <code>value</code> is one of the three choices above.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.CollectUp" href="#SwarmMC.CollectUp"><code>SwarmMC.CollectUp</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>CollectUp()</code></p><p>Combine files from the same prefix into one file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.NameElements" href="#SwarmMC.NameElements"><code>SwarmMC.NameElements</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>NameElements(str) NameElements(str, index::String)</code></p><p>Split and identify the different parts of a prefix.</p><p>In the second form, return a specific part given by <code>index</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.PrefixSets" href="#SwarmMC.PrefixSets"><code>SwarmMC.PrefixSets</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>PrefixSets()</code></p><p>Return all the different unique sets of prefixes in the current directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><h2 id="Analysing-results"><a class="docs-heading-anchor" href="#Analysing-results">Analysing results</a><a id="Analysing-results-1"></a><a class="docs-heading-anchor-permalink" href="#Analysing-results" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.Quants" href="#SwarmMC.Quants"><code>SwarmMC.Quants</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>Quants(params, props ; mbin, SI=true, n0_factors=false, include_errors=true)</code></p><p>Generate a dictionary of commonly used transport quantities from time averages in <code>props</code>. The type of measurement bin can be selected in <code>mbin</code>, although it must be either an instantaneous or cumulative time-only set of measurements.</p><p><code>n0_factors</code> indicate that the appropriate density-scaling factors (e.g. <code>n0*DT</code>) will be given instead of the raw values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.EpsFromVel" href="#SwarmMC.EpsFromVel"><code>SwarmMC.EpsFromVel</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>EpsFromVel(vel, mass) EpsFromVel(vel, ::PARTTYPE) EpsFromVel(::PARTICLE)</code></p><p>Calculate the energy of a particle from the velocity and mass.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L725-L731">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ΔR" href="#SwarmMC.ΔR"><code>SwarmMC.ΔR</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ΔR(params)</code></p><p>Return the size of the radial measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.RGrid" href="#SwarmMC.RGrid"><code>SwarmMC.RGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>RGrid(params)</code></p><p>Return the midpoint of the radial measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.TGrid" href="#SwarmMC.TGrid"><code>SwarmMC.TGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>TGrid(params)</code></p><p>Return the midpoint of all time bins, which is the value relevant for cumulative measurements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.TInstGrid" href="#SwarmMC.TInstGrid"><code>SwarmMC.TInstGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>TInstGrid(params)</code></p><p>Return the points at which instantaneous measurements correspond to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ΔT" href="#SwarmMC.ΔT"><code>SwarmMC.ΔT</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ΔT(params)</code></p><p>Return the size of the cumulative time measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.EpsGrid" href="#SwarmMC.EpsGrid"><code>SwarmMC.EpsGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>EpsGrid(params)</code></p><p>Return the midpoint of the energy measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ΔEps" href="#SwarmMC.ΔEps"><code>SwarmMC.ΔEps</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ΔEps(params)</code></p><p>Return the size of the energy measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ZGrid" href="#SwarmMC.ZGrid"><code>SwarmMC.ZGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ZGrid(params)</code></p><p>Return the midpoint of the spatial z measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ΔZ" href="#SwarmMC.ΔZ"><code>SwarmMC.ΔZ</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ΔZ(params)</code></p><p>Return the size of the spatial z measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.CosthGrid" href="#SwarmMC.CosthGrid"><code>SwarmMC.CosthGrid</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>CosthGrid(params)</code></p><p>Return the midpoint of the costheta measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.ΔCosth" href="#SwarmMC.ΔCosth"><code>SwarmMC.ΔCosth</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>ΔCosth(params)</code></p><p>Return the size of the costheta measurement bins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L4">source</a></section></article><h2 id="Advanced"><a class="docs-heading-anchor" href="#Advanced">Advanced</a><a id="Advanced-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced" title="Permalink"></a></h2><h3 id="Definining-new-measurement-types"><a class="docs-heading-anchor" href="#Definining-new-measurement-types">Definining new measurement types</a><a id="Definining-new-measurement-types-1"></a><a class="docs-heading-anchor-permalink" href="#Definining-new-measurement-types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.Log2Fac" href="#SwarmMC.Log2Fac"><code>SwarmMC.Log2Fac</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>Log2Fac(::Val{sym}, log2fac)</code></p><p>What log2fac should be assigned to this quantity. Only relevant for measurements that are considering the weights.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L162-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.InstValue" href="#SwarmMC.InstValue"><code>SwarmMC.InstValue</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>InstValue(::Val{sym}, weight, log2fac, pos, vel, eps)</code></p><p>The value of the quantity (<code>sym</code>) being measured, given the current particle properties are <code>pos</code>, <code>vel</code>, <code>eps</code> and the particle&#39;s weight is given by <code>weight + 2^log2fac</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pengwyn/SwarmMC/blob/923b8bf8191584e77cde6b9f44a626cab75e412a/src/SwarmMC_include/SwarmMCCommon.jl#L153-L159">source</a></section></article><h3 id="User-callbacks"><a class="docs-heading-anchor" href="#User-callbacks">User callbacks</a><a id="User-callbacks-1"></a><a class="docs-heading-anchor-permalink" href="#User-callbacks" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="SwarmMC.INTEGRATOR" href="#SwarmMC.INTEGRATOR"><code>SwarmMC.INTEGRATOR</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>INTEGRATOR</code></p><p>The parameter object passed to <code>DifferentialEquations.jl</code> to provide information about the simulation. The user should not need to care about this, unless they are trying to implement custom callbacks.</p><p>A custom callback will have access to this structure and hence the following properties:</p><ul><li><code>params</code> - the <a href="#SwarmMC.PARAMS"><code>PARAMS</code></a> used for the simulation</li><li><code>part</code> - the current state of the particle</li><li><code>extra_part_list</code> - any additional particles to pass back to the simulation (e.g. created during ionisation).</li><li><code>props_out</code> - the measurements object</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L14">source</a></section></article><h1 id="TODO"><a class="docs-heading-anchor" href="#TODO">TODO</a><a id="TODO-1"></a><a class="docs-heading-anchor-permalink" href="#TODO" title="Permalink"></a></h1><ul><li>[ ] Custom measurements</li><li>[ ] CF + nonconservative measurements</li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 11 September 2020 05:22">Friday 11 September 2020</span>. Using Julia version 1.5.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
